{"version":3,"sources":["App.js","index.js"],"names":["App","useState","jsonVal","setJsonVal","isLoading","setIsLoading","hasError","setHasError","isSetup","setIsSetup","useEffect","queryParams","URLSearchParams","window","location","search","get","fileKey","url","process","console","log","fetch","then","response","json","data","catch","Modal","size","centered","show","onHide","Header","Title","id","rel","href","integrity","crossOrigin","Navbar","bg","variant","sticky","Container","Brand","alt","src","width","height","className","style","paddingBottom","value","onChange","fixed","onClick","method","headers","body","JSON","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNAoJeA,EA9IH,WACV,MAA8BC,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,mBAAS,MAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAA8BN,oBAAS,GAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACR,IAAMC,EAAc,IAAIC,gBAAgBC,OAAOC,SAASC,QAExD,GADcJ,EAAYK,IAAI,SAE5BP,GAAW,OADb,CAIA,IAAMQ,EAAUN,EAAYK,IAAI,WAChC,GAAIC,EAKJ,GADWN,EAAYK,IAAI,MAC3B,CAIA,IAAME,EAAMC,sCAAgCF,EAC5CG,QAAQC,IAAIH,GACZI,MAAMJ,GACLK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIvB,EAAWuB,MACxBC,OAAM,WACLpB,GAAY,WATZA,GAAY,QALZA,GAAY,MAgBb,IAgBH,OAAIC,EAEA,cAACoB,EAAA,EAAD,CACEC,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EACRC,MAAI,EACJC,OAAQ,aALV,SAOE,cAACJ,EAAA,EAAMK,OAAP,UACE,cAACL,EAAA,EAAMM,MAAP,CAAaC,GAAG,gCAAhB,6CAQJ7B,EAEA,cAACsB,EAAA,EAAD,CACEC,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EACRC,MAAI,EACJC,OAAQ,aALV,SAOE,cAACJ,EAAA,EAAMK,OAAP,UACE,cAACL,EAAA,EAAMM,MAAP,CAAaC,GAAG,gCAAhB,sDAQJ/B,EAEA,cAACwB,EAAA,EAAD,CACEC,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EACRC,MAAI,EACJC,OAAQ,aALV,SAOE,cAACJ,EAAA,EAAMK,OAAP,UACE,cAACL,EAAA,EAAMM,MAAP,CAAaC,GAAG,gCAAhB,8EASN,qCACE,+BACE,sBACEC,IAAI,aACJC,KAAK,0EACLC,UAAU,0EACVC,YAAY,gBAGhB,cAACC,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAQ,OAAOC,OAAO,MAAxC,SACE,cAACC,EAAA,EAAD,UACE,eAACJ,EAAA,EAAOK,MAAR,CAAcR,KAAK,QAAnB,UACE,qBACES,IAAI,GACJC,IAAI,8FACJC,MAAM,KACNC,OAAO,KACPC,UAAU,6BACT,IAPL,mCAaJ,sBAAMC,MAAO,CAAEC,cAAe,QAA9B,SACGlD,GAAW,cAAC,IAAD,CAAQmD,MAAOnD,EAASoD,SAAUnD,MAEhD,iCACE,cAACqC,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAQ,OAAOa,MAAM,SAAvC,SACE,cAACX,EAAA,EAAD,UACE,cAACJ,EAAA,EAAOK,MAAR,CAAcR,KAAK,QAAQmB,QAnGjB,WAClBnD,GAAa,GACb,IAAMM,EAAc,IAAIC,gBAAgBC,OAAOC,SAASC,QAClDE,EAAUN,EAAYK,IAAI,WAC1BmB,EAAKxB,EAAYK,IAAI,MACrBE,EAAMC,sCAAA,UAAmCF,EAAnC,YAA8CkB,GAC1Db,MAAMJ,EAAK,CACTuC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU3D,MAwFf,oECtIZ4D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.564894e2.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Container, Navbar, Modal } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { JsonEditor as Editor } from \"jsoneditor-react\";\r\nimport \"jsoneditor-react/es/editor.min.css\";\r\n\r\nconst App = () => {\r\n  const [jsonVal, setJsonVal] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(null);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [isSetup, setIsSetup] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const setup = queryParams.get(\"setup\");\r\n    if (setup) {\r\n      setIsSetup(true);\r\n      return;\r\n    };\r\n    const fileKey = queryParams.get(\"fileKey\");\r\n    if(!fileKey) {\r\n      setHasError(true);\r\n      return;\r\n    }\r\n    const id = queryParams.get(\"id\");\r\n    if(!id) {\r\n      setHasError(true);\r\n      return;\r\n    }\r\n    const url = process.env.REACT_APP_API_URL + fileKey\r\n    console.log(url)\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => setJsonVal(data))\r\n    .catch(() => {\r\n      setHasError(true);\r\n    })\r\n  }, []);\r\n\r\n  const sendMessage = () => {\r\n    setIsLoading(true)\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const fileKey = queryParams.get(\"fileKey\");\r\n    const id = queryParams.get(\"id\");\r\n    const url = process.env.REACT_APP_API_URL + `${fileKey}/${id}`;\r\n    fetch(url, {\r\n      method: 'POST', \r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(jsonVal)})\r\n  }\r\n\r\n  if (isSetup) {\r\n    return (\r\n      <Modal\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        show\r\n        onHide={() => {}}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            You are successfully setup!\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  if (hasError) {\r\n    return (\r\n      <Modal\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        show\r\n        onHide={() => {}}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Please click the link from the embed\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Modal\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        show\r\n        onHide={() => {}}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Sent your file to be uploaded, you may close your browser :)\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <head>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\r\n          integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n      </head>\r\n      <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#home\">\r\n            <img\r\n              alt=\"\"\r\n              src=\"https://cdn.discordapp.com/icons/733117510420791358/a_2a2e9349029a56a1da08e999e0ac31e1.webp\"\r\n              width=\"30\"\r\n              height=\"30\"\r\n              className=\"d-inline-block align-top\"\r\n            />{\" \"}\r\n            GCG Price Sheet Modifiers\r\n          </Navbar.Brand>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      <body style={{ paddingBottom: \"56px\" }}>\r\n        {jsonVal && <Editor value={jsonVal} onChange={setJsonVal} />}\r\n      </body>\r\n      <footer>\r\n        <Navbar bg=\"dark\" variant=\"dark\" fixed=\"bottom\">\r\n          <Container>\r\n            <Navbar.Brand href=\"#home\" onClick={sendMessage}>\r\n              Click here to automatically upload this file\r\n            </Navbar.Brand>\r\n          </Container>\r\n        </Navbar>\r\n      </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}